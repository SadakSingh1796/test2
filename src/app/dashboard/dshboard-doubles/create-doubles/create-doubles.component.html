<div class="common-dialog">
    <div class="innerContent">
        <form [formGroup]="_teamForm">
        <div class="topbar">
            <div class="flex-vc flex-sb">
                <div class="content">
                    <div class="flex-vc _borderDropdown">
                        <p-dropdown [options]="_abled" appendTo="body" placeholder="Select"
                            optionLabel="name" [formControlName]="'abled'" [disabled]="edit"></p-dropdown>
                            <div class="error-txt-msg mb-2"
                                *ngIf="_isSubmitDetails && _teamForm.controls['category'].hasError('required')"
                                style="color: red">
                                <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                            </div>
                            <p-dropdown (onChange)="getPlayersinCategory($event)" class="ms-2" [options]="_masterCategoriesList" appendTo="body"
                            placeholder="Category" optionLabel="category_description"
                            [formControlName]="'category'" [disabled]="edit"></p-dropdown>
                            <div class="error-txt-msg mb-2"
                                *ngIf="_isSubmitDetails && _teamForm.controls['category'].hasError('required')"
                                style="color: red">
                                <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                            </div>
                            <p-dropdown [(ngModel)]="selectedValue" class="ms-4" [options]="_playerList" [filter]="true" appendTo="body" 
                            placeholder="Select Player" optionLabel="name"  [ngModelOptions]="{standalone: true}"
                            (onChange)="addPlayer($event)" (focusout)="clearDropdown($event)"></p-dropdown>
                    </div>
                </div>
                <div class="action" (click)="closePopUp()">
                    <i class="pi pi-times-circle text-danger p-links"></i>
                </div>
            </div>
        </div>
      
        <div class="editable-heading ">

            <div class="heading-input">
                <p *ngIf="_showName">{{_mixedName}}</p>
                <!-- <input pInputText [disabled]="_editFeild" [placeholder]="_heading"  [formControlName]="'teamName'"
                    (focusout)="editFeild(true)" (keyup)="duplicateTeam()" (keypress)="duplicateTeam()"
                    (keydown)="duplicateTeam()">
                <div class="btn edit-icon" (click)="editFeild(false)">
                    <i class="pi pi-pencil p-green i-small"></i>
                </div>
                <div class="error-txt-msg mb-2"
                                *ngIf="_isSubmitDetails && _teamForm.controls['teamName'].hasError('required')"
                                style="color: red">
                                <span style="color: red">*</span>{{'signupmanagement.req'|translate}}
                            </div> -->
                           
            </div>
        </div>
    </form>
        <div class="player-array mt-2">
            <div class="playerRow">
                <div class="flex-vc flex-sb mb-2" *ngFor="let item of _playersArray;let i=index">
                    <p-avatar shape="circle" label="PK" size="small"></p-avatar>
                    <p class="p-secondary-dark">{{item.name}}</p>
                    <p class="p-secondary-dark">{{item.email}}</p>
                    <p class="p-combine p-links" (click)="removePlayer(item,i)">Remove player</p>
                </div>
            </div>
        </div>
        <div class="mt-3">
            <button class="btn btn_green m-0 w-auto" (click)="duplicateTeam()">Save</button>
        </div>
        <div class="errorMsg mt-2" *ngIf="_isSubmitDetails && _playersArray.length < 2">
            <div class="flex-vc">
                <i class="pi pi-info-circle text-danger"></i>
                <p class="p-small text-danger ms-2">Sorry, doubles canâ€™t be created. Minimum 2 athletes are required.</p>
            </div>
        </div>
        <div class="errorMsg mt-2" *ngIf="_maxPlayer">
            <div class="flex-vc">
                <i class="pi pi-info-circle text-danger"></i>
                <p class="p-small text-danger ms-2">you cannot add more than two players in doubles.</p>
            </div>
        </div>
    </div>
</div>
<p-toast position="bottom-center" key="bc"></p-toast>
