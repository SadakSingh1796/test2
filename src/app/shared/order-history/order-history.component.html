<div class="container-xxl">
  <div class="innerContent">
    <div class="topbar">
      <div class="flex-sb flex-vc py-3">
        <div class="heading">
          <h4 class="p-green"><b>Order History</b></h4>
        </div>
        <div class="flex-vc p-links" (click)="goBack()">
          <i class="pi pi-arrow-left p-green i-small"></i>
          <p class="p-green ms-2">Back to My Events</p>
        </div>
      </div>
    </div>
    <div class="centerElement mt-4">
      <div class="heading">
        <h6 class="p-secondary-dark"><b>Order Summary</b></h6>
      </div>

      <div class="mt-3 mb-3">
        <p-table class="common-table text-start" #request [value]="_eventList" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" [tableStyle]="{'min-width': '50rem'}"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
          <ng-template pTemplate="header">
            <tr>
              <th style="width: 20%">Name of Event</th>
              <th style="width: 20%">Registered</th>
              <th style="width: 20%">Type</th>
              <th style="width: 20%">Amount</th>
              <th style="width: 20%">Status</th>
              <th style="width: 20%"></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-event>
            <tr>
              <!-- <td>{{ users.name }}</td> -->
              <td>{{ event.event_name }}</td>
              <td>
                <div class="flex-vc flex-hc">
                  <p class="p-secondary-dark">{{ event.total_players }}</p>
                  <p
                    class="p-secondary-dark ms-1"
                    *ngIf="event.participant_type_description === 'Single'"
                  >
                    Players
                  </p>
                  <p
                    class="p-secondary-dark ms-1"
                    *ngIf="event.participant_type_description === 'Teams'"
                  >
                    Teams
                  </p>
                  <p
                    class="p-secondary-dark ms-1"
                    *ngIf="
                      event.participant_type_description === 'Doubles' || event.participant_type_description === 'Mix-Doubles'
                    "
                  >
                    Pair
                  </p>
                  <i
                    class="pi pi-eye i-small p-combine ms-2 p-links"
                    (click)="showDialog(event)"
                  ></i>
                </div>
              </td>
              <td class="p-secondary-dark">{{ event.participant_type_description }}</td>
              <td class="p-secondary-dark">{{ event.event_total}}</td>
              <td
                [ngClass]="{
                  'p-success fw-bold': event.payment_status === 'Success',
                  'p-danger fw-bold': event.payment_status === 'Failed',
                  'p-secondary-dark fw-bold': event.payment_status === 'Pending'
                }"
              >
                {{event.payment_status}}
              </td>
              <!-- <td class="p-combine">{{ event.action }}</td> -->
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="8">No user found.</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
  <p-dialog
    [(visible)]="_showRegisered"
    closeIcon="pi pi-times-circle p-combine"
    [modal]="true"
    [draggable]="false"
    [style]="{ width: '1000px', maxHeight: '535px', overflow: 'hidden' }"
    [baseZIndex]="10000"
  >
    <stupa-registered [_showDetailsonIcon]="_showDetailsonIcon"></stupa-registered>
  </p-dialog>
</div>
<stupa-gif-loader *ngIf="_showLoader"></stupa-gif-loader>
<p-toast position="bottom-center" key="bc"></p-toast>